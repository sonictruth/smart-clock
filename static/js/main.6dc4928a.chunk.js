(this["webpackJsonpsmart-clock"]=this["webpackJsonpsmart-clock"]||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},48:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),c=n.n(i),s=n(19),o=(n(35),n(9)),u=n(10),l=(n(36),n(2)),d=(n(37),n(13)),m=n.n(d),h=n(15),j=n(28),p=n.n(j),b={youtubePlaylistURL:"https://www.youtube.com/embed/videoseries?list=PLywsZdsYYHTZNdHTYDNooq86TCJLPCjoK",mediaPlayerStreams:[{name:"EuroNews",url:"https://www.youtube.com/watch?v=sPgqEHsONK8",isRadio:!1},{name:"Al Jazeera",url:"https://www.youtube.com/watch?v=-upyPouRrB8",isRadio:!1},{name:"Sky News",url:"https://www.youtube.com/watch?v=9Auq9mYxFEE",isRadio:!1},{name:"Digi24",url:"https://dai.google.com/linear/hls/event/OQfdjUhHSDSlb1fJVzehsQ/master.m3u8",isRadio:!1},{name:"TVRi",url:"https://mn-nl.mncdn.com/tvri_test/smil:tvri_test.smil/playlist.m3u8",isRadio:!1},{name:"3/24",url:"https://directes-tv-int.ccma.cat/int/ngrp:324_web/chunklist_b1728000.m3u8",isRadio:!1},{name:"PrimaTV",url:"https://stream1.1616.ro:1945/prima/livestream/playlist.m3u8?wowzatokenhash=hOdIznDoakApEuQ8FaFI3yrJuBMZHqCB7B3cWTmRWsc=",isRadio:!1},{name:"Antena 3",url:"https://ivm.antenaplay.ro/live/a3/playlist.m3u8",isRadio:!1},{name:"Antena 1",url:"https://ivm.antenaplay.ro/live/a1/playlist.m3u8",isRadio:!1},{name:"Radio 3",url:"https://rtvelivestreamv3.akamaized.net/rne_r3_main.m3u8",isRadio:!0},{name:"iCat",url:"https://directes-radio-int.ccma.cat/int/mp4:icatfm/playlist.m3u8",isRadio:!0},{name:"RadioParadise",url:"http://stream.radioparadise.com/aac-128",isRadio:!0},{name:"LoFi",url:"https://www.youtube.com/watch?v=5qap5aO4i9A",isRadio:!1},{name:"UK Weekly Playlist",url:"https://youtube.com/playlist?list=PLx0sYbCqOb8Q_CLZC2BdBSKEEB59BOPUM",isRadio:!1}],weather:{apiURL:Object({NODE_ENV:"production",PUBLIC_URL:"/smart-clock",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_OPEN_WEATHER_URL||"https://www.sonicpix.ro/owproxy/",apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/smart-clock",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_OPEN_WEATHER_KEY||"nokey",latitude:41.376681,longitude:2.176177,units:"metric",tempSymbol:"\xb0C",lang:"en",weatherUpdateIntervalSeconds:3600}},v=b.weather,O=1e3*v.weatherUpdateIntervalSeconds,f=v.apiKey,x=v.apiURL;function g(){return w.apply(this,arguments)}function w(){return(w=Object(h.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=setTimeout((function(){return t()}),5e3);navigator.geolocation.getCurrentPosition((function(t){clearTimeout(n),e(t)}),t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return S.apply(this,arguments)}function S(){return(S=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={latitude:v.latitude,longitude:v.longitude},e.prev=1,e.next=4,g();case 4:n=e.sent,t.latitude=n.coords.latitude,t.longitude=n.coords.longitude,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Unable to get location",e.t0);case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var R=p()((function(e){function t(){return n.apply(this,arguments)}function n(){return(n=Object(h.a)(m.a.mark((function t(){var n,a,r,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:return n=t.sent,a=new URLSearchParams({units:v.units,lang:v.lang,lat:n.latitude.toString(),lon:n.longitude.toString(),exclude:"minutely,hourly",appid:f}).toString(),r="".concat(x,"?").concat(a),t.next=7,fetch(r);case 7:return i=t.sent,t.t0=e,t.next=11,i.json();case 11:t.t1=t.sent,t.t2={weather:t.t1},(0,t.t0)(t.t2);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return setInterval((function(){return e({date:new Date})}),1e3),setInterval((function(){return t()}),O),t(),{date:new Date,weather:null}})),P=n(1);var N=function(){var e=R((function(e){return e.date.toLocaleTimeString("en-GB",{timeStyle:"short"})}));return Object(P.jsx)("div",{className:"Time",children:e})},T=n(16),E=n.n(T),_=(n(48),b.weather.tempSymbol);function k(e){return Math.round(parseFloat(e))+_}var C=function(e){var t,n=R((function(e){return e.weather})),a=e.simple;return Object(P.jsxs)("div",{className:"Weather",children:[!n&&Object(P.jsx)("div",{children:"Loading..."}),n&&n.current&&(a?Object(P.jsxs)("div",{children:[Object(P.jsx)(E.a,{name:"owm",iconId:n.current.weather[0].id.toString()}),"\xa0\xa0",k(n.current.temp)]}):Object(P.jsxs)("div",{className:"WeatherBackground",children:[Object(P.jsx)("div",{className:"WeatherCurrent",children:Object(P.jsxs)("div",{className:"columns is-mobile",children:[Object(P.jsxs)("div",{className:"column WeatherHumidity",children:["H: ",n.current.humidity,"%"]}),Object(P.jsxs)("div",{className:"column",children:[Object(P.jsx)(E.a,{name:"owm",iconId:n.current.weather[0].id.toString()}),"\xa0\xa0",k(n.current.temp)]}),Object(P.jsxs)("div",{className:"column WeatherWind",children:["W: ",(t=n.current.wind_speed,Math.round(3.6*parseFloat(t)).toString()+"Km/h")]})]})}),Object(P.jsx)("div",{className:"WeatherDaily",children:Object(P.jsx)("div",{className:"columns is-mobile",children:n.daily.map((function(e,t){return Object(P.jsxs)("div",{className:"column",children:[Object(P.jsx)("div",{children:(n=e.dt,new Date(1e3*n).toLocaleDateString("en",{weekday:"short",day:"numeric"}))}),Object(P.jsx)("div",{className:"WeatherIcon",children:Object(P.jsx)(E.a,{name:"owm",iconId:e.weather[0].id.toString()})}),Object(P.jsx)("div",{children:k(e.temp.day)})]},t);var n}))})}),Object(P.jsx)("div",{className:"WeatherAlerts",children:n.alerts&&n.alerts.map((function(e,t){return 0===t&&Object(P.jsxs)("div",{children:[(n=e.start,new Date(1e3*n).toLocaleString(void 0,{weekday:"long",dayPeriod:"short"})),": ",e.event,"."]},t);var n}))})]}))]})},L=n(29),A=n.n(L),D=n(20),M=n.n(D),W=(n(67),"mediaURL"),I=b.mediaPlayerStreams;var U=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(1),n=Object(u.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),l=Object(u.a)(s,2),d=l[0],m=l[1],h=Object(a.useState)(localStorage.getItem(W)||I[0].url),j=Object(u.a)(h,2),p=j[0],b=j[1],v=I.find((function(e){return e.url===p})),O=function(e){return e.stopPropagation()},f={onTouchEnd:O,onMouseUp:O};return Object(P.jsxs)("div",{className:"MediaPlayer",children:[Object(P.jsxs)("div",{className:"MediaPlayerScreen",children:[(null===v||void 0===v?void 0:v.isRadio)&&Object(P.jsx)("div",{className:"MediaPlayerScreenName",children:Object(P.jsx)("div",{children:v.name})}),Object(P.jsx)(A.a,{className:"MediaPlayerReactPlayer",ref:e,width:"100%",height:"100%",url:p,playing:d,controls:!1,loop:!0,volume:r,onReady:function(){return setTimeout((function(){return m(!0)}),1e3)}})]}),Object(P.jsxs)("div",{className:"MediaPlayerBottom",children:[Object(P.jsx)("div",{children:Object(P.jsx)(N,{})}),Object(P.jsx)("div",{children:Object(P.jsx)(C,{simple:!0})}),Object(P.jsx)("div",Object(o.a)(Object(o.a)({},f),{},{children:Object(P.jsx)("input",{type:"range",min:0,max:1,step:"any",value:r,onChange:function(e){c(parseFloat(e.target.value))}})})),Object(P.jsx)("div",Object(o.a)(Object(o.a)({},f),{},{children:Object(P.jsx)("button",{className:"button is-small is-dark",onClick:function(){if(M.a.isEnabled&&e.current){var t=e.current,n=Object(i.findDOMNode)(t);M.a.request(n)}},children:"Fullscreen"})})),Object(P.jsx)("div",Object(o.a)(Object(o.a)({},f),{},{children:Object(P.jsx)("div",{className:"select is-small is-dark",children:Object(P.jsx)("select",{defaultValue:p,onChange:function(e){return function(e){b(e),localStorage.setItem(W,e)}(e.target.value)},children:I.map((function(e,t){return Object(P.jsx)("option",{value:e.url,children:e.name},t)}))})})}))]})]})},F=(n(68),["v1.gif","v2.gif","v4.gif","v5.gif","v6.gif","v7.gif","v13.gif"]),B=Array.from(Array(40).keys()).map((function(e){return"d".concat(e+1,".jpeg")})),H=new URLSearchParams(window.location.search),K=Object.fromEntries(H.entries()),q=K.isLite&&"true"===K.isLite;var J={routes:[{path:"/MediaPlayer",component:U},{path:"/",component:function(){var e=Object(a.useState)(i()),t=Object(u.a)(e,2),n=t[0],r=t[1];function i(){var e=q?B:F;return e[Math.floor(Math.random()*e.length)]}return Object(a.useEffect)((function(){var e=setInterval((function(){return r(i())}),6e5);return function(){clearInterval(e)}})),Object(P.jsxs)("div",{style:{backgroundImage:"url(".concat("/smart-clock","/backgrounds/").concat(n,")")},className:"MainScreen",children:[Object(P.jsx)("div",{className:"top",children:Object(P.jsx)(N,{})}),Object(P.jsx)("div",{className:"bottom",children:Object(P.jsx)(C,{})})]})}}]};var V=function(){var e=r.a.useState(0),t=Object(u.a)(e,2),n=t[0],a=t[1],i=r.a.useState(0),c=Object(u.a)(i,2),s=c[0],d=c[1],m=Object(l.f)(),h=function(e){return e.clientX||(e.targetTouches&&e.targetTouches.length>0?e.targetTouches[0].clientX:0)},j=function(e){a(h(e)),d(h(e))},p=function(e){d(h(e))},b=function(e){var t=m.location.pathname,r=J.routes.findIndex((function(e){return e.path===t})),i=null;n-s>50&&(i=r-1)<0&&(i=J.routes.length-1),n-s<-50&&(i=r+1)>J.routes.length-1&&(i=0),null!==i&&m.push(J.routes[i].path),a(0)};return Object(P.jsxs)("div",{className:"App",onMouseDown:j,onMouseMove:p,onMouseUp:b,onTouchEnd:b,onTouchMove:p,onTouchStart:j,children:[Object(P.jsx)("div",{className:"AppPortrait",children:"Please rotate your device."}),Object(P.jsx)(l.c,{children:J.routes.map((function(e,t){return Object(P.jsx)(l.a,{path:e.path,render:function(t){return Object(P.jsx)(e.component,Object(o.a)(Object(o.a)({},t),{},{routes:e.routes}))}},t)}))})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(s.a,{children:Object(P.jsx)(V,{})})}),document.getElementById("root")),Y()}},[[71,1,2]]]);
//# sourceMappingURL=main.6dc4928a.chunk.js.map